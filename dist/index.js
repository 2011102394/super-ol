!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("ol"));else if("function"==typeof define&&define.amd)define(["ol"],e);else{var n="object"==typeof exports?e(require("ol")):e(t.ol);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(function(t){return(()=>{"use strict";var e={256:(t,e,n)=>{n.d(e,{Z:()=>r});const r={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},689:(t,e,n)=>{n.d(e,{ZP:()=>f,v_:()=>p});var r=n(520);var i,o=n(834),s=n(580),a=n(179),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return u(e,t),e}(r.ZP),l=function(t){function e(e){var n=t.call(this)||this;return(0,a.sq)(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return u(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&(0,s.f0)({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n=p(t),this.dispatchEvent(new c(n,t,e)),n="propertychange",this.dispatchEvent(new c(n,t,e))},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var i=r[t];r[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&(0,s.f0)(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],(0,s.xb)(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(o.Z),h={};function p(t){return h.hasOwnProperty(t)?h[t]:h[t]="change:"+t}const f=l},834:(t,e,n)=>{n.d(e,{Z:()=>u});var r,i=n(16),o=n(381),s=n(2),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const u=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return a(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.Z.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=(0,s.oL)(this,t[i],e);return r}return(0,s.oL)(this,t,e)},e.prototype.once=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var i=0;i<r;++i)n[i]=(0,s.Vx)(this,t[i],e)}else n=(0,s.Vx)(this,t,e);return e.ol_key=n,n},e.prototype.un=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,s.bN)(t[e]);else(0,s.bN)(t)}(n);else if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(i.Z)},473:(t,e,n)=>{n.d(e,{T:()=>i,Z:()=>o});var r=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function i(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)}const o=r},900:(t,e,n)=>{n.d(e,{Z:()=>r});const r={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},682:(t,e,n)=>{function r(t,e){return t>e?1:t<e?-1:0}function i(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function o(t,e,n){var i=e||r;return t.every((function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)}))}n.d(e,{kK:()=>r,h7:()=>i,pT:()=>o})},537:(t,e,n)=>{n.d(e,{h:()=>a});var r,i=n(179),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const s=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("latest"===i.q4?i.q4:"v"+i.q4.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return o(e,t),e}(Error);function a(t,e){if(!t)throw new s(e)}},386:(t,e,n)=>{n.d(e,{E4:()=>i});var r=n(358);function i(t,e,n){var i=n&&n.length?n.shift():r.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}},2:(t,e,n)=>{n.d(e,{oL:()=>i,Vx:()=>o,bN:()=>s});var r=n(580);function i(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function o(t,e,n,r){return i(t,e,n,r,!0)}function s(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,r.ZH)(t))}},520:(t,e,n)=>{n.d(e,{ZP:()=>r});const r=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}()},381:(t,e,n)=>{n.d(e,{Z:()=>r});const r={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},16:(t,e,n)=>{n.d(e,{Z:()=>c});const r=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();var i=n(520);function o(){}var s,a=n(580),u=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return u(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new i.ZP(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,s=this.listeners_&&this.listeners_[n];if(s){var a=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,u[n]=0),++a[n];for(var c=0,l=s.length;c<l;++c)if(!1===(r="handleEvent"in s[c]?s[c].handleEvent(e):s[c].call(this,e))||e.propagationStopped){r=!1;break}if(--a[n],0===a[n]){var h=u[n];for(delete u[n];h--;)this.removeEventListener(n,o);delete a[n]}return r}},e.prototype.disposeInternal=function(){this.listeners_&&(0,a.ZH)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=o,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(r)},915:(t,e,n)=>{n.d(e,{hI:()=>o,b8:()=>s,lJ:()=>a,T9:()=>u,fS:()=>c,l7:()=>l,Wj:()=>h,H6:()=>p,bg:()=>f,hC:()=>d,w$:()=>g,qg:()=>_,g0:()=>y,Cr:()=>v,Ed:()=>m,rL:()=>T,Xv:()=>x,dz:()=>E,kK:()=>O,Ne:()=>b});var r=n(748),i=n(537);function o(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;++n)h(e,t[n]);return e}function s(t,e){return function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}(t,e[0],e[1])}function a(){return[1/0,1/0,-1/0,-1/0]}function u(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function c(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function l(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function h(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function p(t,e){var n;return(n=e(d(t)))||(n=e(g(t)))||(n=e(x(t)))?n:(n=e(T(t)))||!1}function f(t){var e=0;return function(t){return t[2]<t[0]||t[3]<t[1]}(t)||(e=E(t)*v(t)),e}function d(t){return[t[0],t[1]]}function g(t){return[t[2],t[1]]}function _(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function y(t,e){var n;return e===r.Z.BOTTOM_LEFT?n=d(t):e===r.Z.BOTTOM_RIGHT?n=g(t):e===r.Z.TOP_LEFT?n=T(t):e===r.Z.TOP_RIGHT?n=x(t):(0,i.h)(!1,13),n}function v(t){return t[3]-t[1]}function m(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return O(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):function(t){u(1/0,1/0,-1/0,-1/0,t)}(r),r}function T(t){return[t[0],t[3]]}function x(t){return[t[2],t[3]]}function E(t){return t[2]-t[0]}function O(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function b(t,e,n,r){var i=[];if(r>1)for(var o=t[2]-t[0],s=t[3]-t[1],a=0;a<r;++a)i.push(t[0]+o*a/r,t[1],t[2],t[1]+s*a/r,t[2]-o*a/r,t[3],t[0],t[3]-s*a/r);else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);for(var c=[],l=[],h=(a=0,i.length);a<h;a+=2)c.push(i[a]),l.push(i[a+1]);return function(t,e,n){return u(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(c,l,n)}},748:(t,e,n)=>{n.d(e,{Z:()=>r});const r={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},358:(t,e,n)=>{n.d(e,{Id:()=>i,Tp:()=>o});var r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",i=(r.indexOf("firefox"),-1!==r.indexOf("safari")&&r.indexOf("chrom"),-1!==r.indexOf("webkit")&&r.indexOf("edge"),r.indexOf("macintosh"),"undefined"!=typeof devicePixelRatio&&devicePixelRatio,"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope),o="undefined"!=typeof Image&&Image.prototype.decode;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(t){}}()},570:(t,e,n)=>{n.r(e),n.d(e,{default:()=>et});var r=n(689);const i="opacity",o="visible",s="extent",a="zIndex",u="maxResolution",c="minResolution",l="maxZoom",h="minZoom",p="source";var f,d=n(179),g=n(537),_=n(580),y=n(882),v=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const m=function(t){function e(e){var n=t.call(this)||this,r=(0,_.f0)({},e);return r.opacity=void 0!==e.opacity?e.opacity:1,(0,g.h)("number"==typeof r.opacity,64),r.visible=void 0===e.visible||e.visible,r.zIndex=e.zIndex,r.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,r.minResolution=void 0!==e.minResolution?e.minResolution:0,r.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,r.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return v(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,y.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return(0,d.O3)()},e.prototype.getLayerStatesArray=function(t){return(0,d.O3)()},e.prototype.getExtent=function(){return this.get(s)},e.prototype.getMaxResolution=function(){return this.get(u)},e.prototype.getMinResolution=function(){return this.get(c)},e.prototype.getMinZoom=function(){return this.get(h)},e.prototype.getMaxZoom=function(){return this.get(l)},e.prototype.getOpacity=function(){return this.get(i)},e.prototype.getSourceState=function(){return(0,d.O3)()},e.prototype.getVisible=function(){return this.get(o)},e.prototype.getZIndex=function(){return this.get(a)},e.prototype.setExtent=function(t){this.set(s,t)},e.prototype.setMaxResolution=function(t){this.set(u,t)},e.prototype.setMinResolution=function(t){this.set(c,t)},e.prototype.setMaxZoom=function(t){this.set(l,t)},e.prototype.setMinZoom=function(t){this.set(h,t)},e.prototype.setOpacity=function(t){(0,g.h)("number"==typeof t,64),this.set(i,t)},e.prototype.setVisible=function(t){this.set(o,t)},e.prototype.setZIndex=function(t){this.set(a,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(r.ZP);var T=n(381);var x=n(418),E=n(2),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const b=function(t){function e(e){var n=this,i=(0,_.f0)({},e);delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener((0,r.v_)(p),n.handleSourcePropertyChange_);var o=e.source?e.source:null;return n.setSource(o),n}return O(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(p)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():x.Z.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,E.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,E.oL)(t,T.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,E.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,E.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,E.oL)(t,"precompose",(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,g.h)(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=(0,E.oL)(this,T.Z.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(p,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(m),P="preload",w="useInterimTilesOnError";var R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const C=function(t){function e(e){var n=this,r=e||{},i=(0,_.f0)({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return R(e,t),e.prototype.getPreload=function(){return this.get(P)},e.prototype.setPreload=function(t){this.set(P,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(w)},e.prototype.setUseInterimTilesOnError=function(t){this.set(w,t)},e}(b);var S=n(256),j=n(834),Z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const M=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return Z(e,t),e.prototype.getFeatures=function(t){return(0,d.O3)()},e.prototype.prepareFrame=function(t){return(0,d.O3)()},e.prototype.renderFrame=function(t,e){return(0,d.O3)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return(0,d.O3)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===S.Z.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=S.Z.LOADED&&e!=S.Z.ERROR&&t.addEventListener(T.Z.CHANGE,this.boundHandleImageChange_),e==S.Z.IDLE&&(t.load(),e=t.getState()),e==S.Z.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==x.Z.READY&&t.changed()},e}(j.Z);var F=n(520),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const L=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return I(e,t),e}(F.ZP);function A(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function G(t,e,n,r,i,o,s,a){var u=Math.sin(o),c=Math.cos(o);return t[0]=r*c,t[1]=i*u,t[2]=-r*u,t[3]=i*c,t[4]=s*r*c-a*r*u+e,t[5]=s*i*u+a*i*c+n,t}function D(t){return"matrix("+t.join(", ")+")"}new Array(6);var z=n(915),X=n(386),U=n(16),Y=n(358);new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),new r.ZP;(new U.Z).setSize=function(){console.warn("labelCache is deprecated.")};function W(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))}var k=null,K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const N=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return K(e,t),e.prototype.useContainer=function(t,e,n){var r,i,o=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===o&&(a=t.firstElementChild)instanceof HTMLCanvasElement&&(i=a.getContext("2d")),!i||0!==i.canvas.width&&i.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=i,this.containerReused=!0),!this.container){(r=document.createElement("div")).className=o;var s=r.style;s.position="absolute",s.width="100%",s.height="100%";var a=(i=(0,X.E4)()).canvas;r.appendChild(a),(s=a.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=i}},e.prototype.clip=function(t,e,n){var r=e.pixelRatio,i=e.size[0]*r/2,o=e.size[1]*r/2,s=e.viewState.rotation,a=(0,z.rL)(n),u=(0,z.Xv)(n),c=(0,z.w$)(n),l=(0,z.hC)(n);A(e.coordinateToPixelTransform,a),A(e.coordinateToPixelTransform,u),A(e.coordinateToPixelTransform,c),A(e.coordinateToPixelTransform,l),t.save(),W(t,-s,i,o),t.beginPath(),t.moveTo(a[0]*r,a[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(c[0]*r,c[1]*r),t.lineTo(l[0]*r,l[1]*r),t.clip(),W(t,s,i,o)},e.prototype.clipUnrotated=function(t,e,n){var r=(0,z.rL)(n),i=(0,z.Xv)(n),o=(0,z.w$)(n),s=(0,z.hC)(n);A(e.coordinateToPixelTransform,r),A(e.coordinateToPixelTransform,i),A(e.coordinateToPixelTransform,o),A(e.coordinateToPixelTransform,s);var a=this.inversePixelTransform;A(a,r),A(a,i),A(a,o),A(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new L(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,s){var a=i/2,u=o/2,c=r/e,l=-c,h=-t[0]+s,p=-t[1];return G(this.tempTransform,a,u,c,l,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var r,i=A(this.inversePixelTransform,t.slice()),o=this.context,s=this.getLayer().getExtent();if(s){var a=A(e.pixelToCoordinateTransform,t.slice());if(!(0,z.b8)(s,a))return null}try{var u=Math.round(i[0]),c=Math.round(i[1]),l=document.createElement("canvas"),h=l.getContext("2d");l.width=1,l.height=1,h.clearRect(0,0,1,1),h.drawImage(o.canvas,u,c,1,1,0,0,1,1),r=h.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e}(M);var q=n(473),H=n(900),V=n(964),$=n(682),Q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=(0,z.lJ)(),n.tmpTileRange_=new q.Z(0,0,0,0),n}return Q(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==H.Z.LOADED||n==H.Z.EMPTY||n==H.Z.ERROR&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,n,i,o);return a.getState()==H.Z.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(H.Z.LOADED)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,s=r.center,a=r.rotation,u=t.pixelRatio,c=this.getLayer(),l=c.getSource(),h=l.getRevision(),p=l.getTileGridForProjection(i),f=p.getZForResolution(o,l.zDirection),y=p.getResolution(f),v=t.extent,m=n.extent&&(0,V.dY)(n.extent,i);m&&(v=(0,z.Ed)(v,(0,V.dY)(n.extent,i)));var T=l.getTilePixelRatio(u),x=Math.round(t.size[0]*T),E=Math.round(t.size[1]*T);if(a){var O=Math.round(Math.sqrt(x*x+E*E));x=O,E=O}var b=y*x/2/T,P=y*E/2/T,w=[s[0]-b,s[1]-P,s[0]+b,s[1]+P],R=p.getTileRangeForExtentAndZ(v,f),C={};C[f]={};var S=this.createLoadedTileFinder(l,i,C),j=this.tmpExtent,Z=this.tmpTileRange_;this.newTiles_=!1;for(var M=R.minX;M<=R.maxX;++M)for(var F=R.minY;F<=R.maxY;++F){var I=this.getTile(f,M,F,t);if(this.isDrawableTile(I)){var L=(0,d.sq)(this);if(I.getState()==H.Z.LOADED){C[f][I.tileCoord.toString()]=I;var U=I.inTransition(L);this.newTiles_||!U&&-1!==this.renderedTiles.indexOf(I)||(this.newTiles_=!0)}if(1===I.getAlpha(L,t.time))continue}var W=p.getTileCoordChildTileRange(I.tileCoord,Z,j),K=!1;W&&(K=S(f+1,W)),K||p.forEachTileCoordParentTileRange(I.tileCoord,S,Z,j)}var N=y/o;G(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/T,1/T,a,-x/2,-E/2);var q,Q=(q=this.pixelTransform,Y.Id?D(q):(k||(k=(0,X.E4)(1,1).canvas),k.style.transform=D(q),k.style.transform));this.useContainer(e,Q,n.opacity);var B=this.context,J=B.canvas;(function(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];(0,g.h)(0!==r,32);var i=e[0],o=e[1],s=e[2],a=e[3],u=e[4],c=e[5];t[0]=a/r,t[1]=-o/r,t[2]=-s/r,t[3]=i/r,t[4]=(s*c-a*u)/r,t[5]=-(i*c-o*u)/r})(this.inversePixelTransform,this.pixelTransform),G(this.tempTransform,x/2,E/2,N,N,0,-x/2,-E/2),J.width!=x||J.height!=E?(J.width=x,J.height=E):this.containerReused||B.clearRect(0,0,x,E),m&&this.clipUnrotated(B,t,m),(0,_.f0)(B,l.getContextOptions()),this.preRender(B,t),this.renderedTiles.length=0;var tt,et,nt,rt=Object.keys(C).map(Number);rt.sort($.kK),1!==n.opacity||this.containerReused&&!l.getOpaque(t.viewState.projection)?(tt=[],et=[]):rt=rt.reverse();for(var it=rt.length-1;it>=0;--it){var ot=rt[it],st=l.getTilePixelSize(ot,u,i),at=p.getResolution(ot)/y,ut=st[0]*at*N,ct=st[1]*at*N,lt=p.getTileCoordForCoordAndZ((0,z.rL)(w),ot),ht=p.getTileCoordExtent(lt),pt=A(this.tempTransform,[T*(ht[0]-w[0])/y,T*(w[3]-ht[3])/y]),ft=T*l.getGutterForProjection(i),dt=C[ot];for(var gt in dt){var _t=(I=dt[gt]).tileCoord,yt=pt[0]-(lt[1]-_t[1])*ut,vt=Math.round(yt+ut),mt=pt[1]-(lt[2]-_t[2])*ct,Tt=Math.round(mt+ct),xt=vt-(M=Math.round(yt)),Et=Tt-(F=Math.round(mt)),Ot=f===ot;if(!(U=Ot&&1!==I.getAlpha((0,d.sq)(this),t.time)))if(tt){B.save(),nt=[M,F,M+xt,F,M+xt,F+Et,M,F+Et];for(var bt=0,Pt=tt.length;bt<Pt;++bt)if(f!==ot&&ot<et[bt]){var wt=tt[bt];B.beginPath(),B.moveTo(nt[0],nt[1]),B.lineTo(nt[2],nt[3]),B.lineTo(nt[4],nt[5]),B.lineTo(nt[6],nt[7]),B.moveTo(wt[6],wt[7]),B.lineTo(wt[4],wt[5]),B.lineTo(wt[2],wt[3]),B.lineTo(wt[0],wt[1]),B.clip()}tt.push(nt),et.push(ot)}else B.clearRect(M,F,xt,Et);this.drawTileImage(I,t,M,F,xt,Et,ft,Ot,n.opacity),tt&&!U&&B.restore(),this.renderedTiles.push(I),this.updateUsedTiles(t.usedTiles,l,I)}}return this.renderedRevision=h,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!(0,z.fS)(this.renderedExtent_,w),this.renderedExtent_=w,this.renderedPixelRatio=u,this.renderedProjection=i,this.manageTilePyramid(t,l,p,u,i,v,f,c.getPreload()),this.scheduleExpireCache(t,l),this.postRender(B,t),n.extent&&B.restore(),Q!==J.style.transform&&(J.style.transform=Q),this.container},e.prototype.drawTileImage=function(t,e,n,r,i,o,s,a,u){var c=this.getTileImage(t);if(c){var l=(0,d.sq)(this),h=a?t.getAlpha(l,e.time):1,p=u*h,f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,n,r,i,o),f&&this.context.restore(),1!==h?e.animate=!0:a&&t.endTransition(l)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=(0,d.sq)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=(0,d.sq)(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,i,o,s,a,u){var c=(0,d.sq)(e);c in t.wantedTiles||(t.wantedTiles[c]={});var l,h,p,f,g,_,y=t.wantedTiles[c],v=t.tileQueue,m=0;for(_=n.getMinZoom();_<=s;++_)for(h=n.getTileRangeForExtentAndZ(o,_,h),p=n.getResolution(_),f=h.minX;f<=h.maxX;++f)for(g=h.minY;g<=h.maxY;++g)s-_<=a?(++m,(l=e.getTile(_,f,g,r,i)).getState()==H.Z.IDLE&&(y[l.getKey()]=!0,v.isKeyQueued(l.getKey())||v.enqueue([l,c,n.getTileCoordCenter(l.tileCoord),p])),void 0!==u&&u(l)):e.useTile(_,f,g,i);e.updateCacheSize(m,i)},e}(N);B.prototype.getLayer;const J=B;var tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const et=function(t){function e(e){return t.call(this,e)||this}return tt(e,t),e.prototype.createRenderer=function(){return new J(this)},e}(C)},882:(t,e,n)=>{function r(t,e,n){return Math.min(Math.max(t,e),n)}n.d(e,{uZ:()=>r,f9:()=>i,k3:()=>o,SV:()=>s,Yr:()=>a,$W:()=>u});var i="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},o="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function s(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>i&&(i=s,r=o)}if(0===i)return null;var a=t[r];t[r]=t[n],t[n]=a;for(var u=n+1;u<e;u++)for(var c=-t[u][n]/t[n][n],l=n;l<e+1;l++)n==l?t[u][l]=0:t[u][l]+=c*t[n][l]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h}function a(t){return t*Math.PI/180}function u(t,e){var n=t%e;return n*e<0?n+e:n}},580:(t,e,n)=>{n.d(e,{f0:()=>r,ZH:()=>i,xb:()=>o});var r="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function i(t){for(var e in t)delete t[e]}function o(t){var e;for(e in t)return!1;return!e}"function"==typeof Object.values&&Object.values},964:(t,e,n)=>{n.d(e,{Wm:()=>r.W,OP:()=>j,dY:()=>G,U2:()=>R,_Q:()=>C,Ck:()=>M,vs:()=>F});var r=n(868);const i=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||r.W[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();var o,s=n(882),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=6378137,c=Math.PI*u,l=[-c,-c,c,c],h=[-180,-85,180,85],p=u*Math.log(Math.tan(Math.PI/2)),f=function(t){function e(e){return t.call(this,{code:e,units:r.Z.METERS,extent:l,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/(0,s.f9)(e[1]/u)}})||this}return a(e,t),e}(i),d=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=[-180,-90,180,90],y=6378137*Math.PI/180,v=function(t){function e(e,n){return t.call(this,{code:e,units:r.Z.DEGREES,extent:_,axisOrientation:n,global:!0,metersPerUnit:y,worldExtent:_})||this}return g(e,t),e}(i),m=[new v("CRS:84"),new v("EPSG:4326","neu"),new v("urn:ogc:def:crs:OGC:1.3:CRS84"),new v("urn:ogc:def:crs:OGC:2:84"),new v("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],T={},x={};function E(t,e,n){var r=t.getCode(),i=e.getCode();r in x||(x[r]={}),x[r][i]=n}n(915);function O(t,e,n){var r=n||6371008.8,i=(0,s.Yr)(t[1]),o=(0,s.Yr)(e[1]),a=(o-i)/2,u=(0,s.Yr)(e[0]-t[0])/2,c=Math.sin(a)*Math.sin(a)+Math.sin(u)*Math.sin(u)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function b(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function P(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function w(t){!function(t,e){T[t]=e}(t.getCode(),t),E(t,t,b)}function R(t){return"string"==typeof t?T[e=t]||T[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function C(t,e,n,i){var o,s=(t=R(t)).getPointResolutionFunc();if(s)o=s(e,n),i&&i!==t.getUnits()&&(u=t.getMetersPerUnit())&&(o=o*u/r.W[i]);else{var a=t.getUnits();if(a==r.Z.DEGREES&&!i||i==r.Z.DEGREES)o=e;else{var u,c=Z(t,R("EPSG:4326"));if(c===P&&a!==r.Z.DEGREES)o=e*t.getMetersPerUnit();else{var l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=(O((l=c(l,l,2)).slice(0,2),l.slice(2,4))+O(l.slice(4,6),l.slice(6,8)))/2}void 0!==(u=i?r.W[i]:t.getMetersPerUnit())&&(o/=u)}}return o}function S(t){!function(t){t.forEach(w)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&E(e,t,b)}))}))}function j(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Z(t,e)===b)&&n}function Z(t,e){var n=function(t,e){var n;return t in x&&e in x[t]&&(n=x[t][e]),n}(t.getCode(),e.getCode());return n||(n=P),n}function M(t,e){return Z(R(t),R(e))}function F(t,e,n){return M(e,n)(t,void 0,t.length)}var I,L,A;function G(t,e){return t}S(d),S(m),I=d,L=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var s=0;s<r;s+=i){o[s]=c*t[s]/180;var a=u*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>p?a=p:a<-p&&(a=-p),o[s+1]=a}return o},A=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var s=0;s<r;s+=i)o[s]=180*t[s]/c,o[s+1]=360*Math.atan(Math.exp(t[s+1]/u))/Math.PI-90;return o},m.forEach((function(t){I.forEach((function(e){E(t,e,L),E(e,t,A)}))}))},868:(t,e,n)=>{n.d(e,{W:()=>i,Z:()=>o});var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i={};i[r.DEGREES]=2*Math.PI*6370997/360,i[r.FEET]=.3048,i[r.METERS]=1,i[r.USFEET]=1200/3937;const o=r},458:(t,e,n)=>{n.r(e),n.d(e,{ATTRIBUTION:()=>dt,default:()=>gt});var r=n(381),i=n(16),o=n(900),s=n(179);var a,u=(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return u(e,t),e.prototype.changed=function(){this.dispatchEvent(r.Z.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.Z.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.Z.LOADED){t.interimTile=null;break}t.getState()==o.Z.LOADING?e=t:t.getState()==o.Z.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==o.Z.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,s.O3)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r,i=e-n+1e3/60;return i>=this.transition_?1:(r=i/this.transition_,Math.pow(r,3))},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(i.Z);var l=n(386),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const p=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return h(e,t),e.prototype.changed=function(){this.dispatchEvent(r.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,s.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,s.O3)()},e}(i.Z);var f=n(256),d=n(358),g=n(915),_=n(2),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function v(t,e,n){var i=t;if(i.src&&d.Tp){var o=i.decode(),s=!0;return o.then((function(){s&&e()})).catch((function(t){s&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())})),function(){s=!1}}var a=[(0,_.Vx)(i,r.Z.LOAD,e),(0,_.Vx)(i,r.Z.ERROR,n)];return function(){a.forEach(_.bN)}}!function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,r,f.Z.IDLE)||this;return a.src_=i,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.state=f.Z.IDLE,a.imageLoadFunction_=s,a}y(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=f.Z.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,g.Cr)(this.extent)/this.image_.height),this.state=f.Z.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=f.Z.IDLE&&this.state!=f.Z.ERROR||(this.state=f.Z.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=v(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(p);var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const T=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,s)||this;return a.crossOrigin_=i,a.src_=r,a.key=r,a.image_=new Image,null!==i&&(a.image_.crossOrigin=i),a.unlisten_=null,a.tileLoadFunction_=o,a}return m(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){var t;this.state=o.Z.ERROR,this.unlistenImage_(),this.image_=((t=(0,l.E4)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.Z.LOADED:this.state=o.Z.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.Z.ERROR&&(this.state=o.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.Z.IDLE&&(this.state=o.Z.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=v(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(c);var x=n(964),E=n(882);const O=function(){function t(t,e,n,r,i,o){this.sourceProj_=t,this.targetProj_=e;var s={},a=(0,x.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,g.dz)(r)==(0,g.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,g.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,g.dz)(this.targetProj_.getExtent()):null;var u=(0,g.rL)(n),c=(0,g.Xv)(n),l=(0,g.w$)(n),h=(0,g.hC)(n),p=this.transformInv_(u),f=this.transformInv_(c),d=this.transformInv_(l),_=this.transformInv_(h),y=10+(o?Math.max(0,Math.ceil((0,E.k3)((0,g.bg)(n)/(o*o*256*256)))):0);if(this.addQuad_(u,c,l,h,p,f,d,_,y),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach((function(t,e,n){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}s={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,s,a,u){var c=(0,g.hI)([i,o,s,a]),l=this.sourceWorldWidth_?(0,g.dz)(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&l>.5&&l<1,f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=(0,g.hI)([t,e,n,r]);f=(0,g.dz)(d)/this.targetWorldWidth_>.25||f}!p&&this.sourceProj_.isGlobal()&&l&&(f=l>.25||f)}if(!(!f&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||(0,g.kK)(c,this.maxSourceExtent_)){var _=0;if(!(f||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(u>0)f=!0;else if(1!=(_=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1))&&2!=_&&4!=_&&8!=_)return;if(u>0){if(!f){var y=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(y),m=void 0;m=p?((0,E.$W)(i[0],h)+(0,E.$W)(s[0],h))/2-(0,E.$W)(v[0],h):(i[0]+s[0])/2-v[0];var T=(i[1]+s[1])/2-v[1];f=m*m+T*T>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var x=[(e[0]+n[0])/2,(e[1]+n[1])/2],O=this.transformInv_(x),b=[(r[0]+t[0])/2,(r[1]+t[1])/2],P=this.transformInv_(b);this.addQuad_(t,e,x,b,i,o,O,P,u-1),this.addQuad_(b,x,n,r,P,O,s,a,u-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],R=this.transformInv_(w),C=[(n[0]+r[0])/2,(n[1]+r[1])/2],S=this.transformInv_(C);this.addQuad_(t,w,C,r,i,R,S,a,u-1),this.addQuad_(w,e,n,C,R,o,s,S,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&_)&&this.addTriangle_(t,n,r,i,s,a),0==(14&_)&&this.addTriangle_(t,n,e,i,s,o),_&&(0==(13&_)&&this.addTriangle_(e,r,t,o,a,i),0==(7&_)&&this.addTriangle_(e,r,n,o,a,s))}},t.prototype.calculateSourceExtent=function(){var t=(0,g.lJ)();return this.triangles_.forEach((function(e,n,r){var i=e.source;(0,g.Wj)(t,i[0]),(0,g.Wj)(t,i[1]),(0,g.Wj)(t,i[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var b,P={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},w=n(580);function R(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function C(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function S(t,e,n,r){var i=(0,x.vs)(n,e,t),o=(0,x._Q)(e,r,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var u=t.getExtent();if(!u||(0,g.b8)(u,i)){var c=(0,x._Q)(t,o,i)/o;isFinite(c)&&c>0&&(o/=c)}return o}var j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Z=function(t){function e(e,n,r,i,s,a,u,c,l,h,p,f){var d=t.call(this,s,o.Z.IDLE)||this;d.renderEdges_=void 0!==p&&p,d.contextOptions_=f,d.pixelRatio_=u,d.gutter_=c,d.canvas_=null,d.sourceTileGrid_=n,d.targetTileGrid_=i,d.wrappedTileCoord_=a||s,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var _=i.getTileCoordExtent(d.wrappedTileCoord_),y=d.targetTileGrid_.getExtent(),v=d.sourceTileGrid_.getExtent(),m=y?(0,g.Ed)(_,y):_;if(0===(0,g.bg)(m))return d.state=o.Z.EMPTY,d;var T=e.getExtent();T&&(v=v?(0,g.Ed)(v,T):T);var x=i.getResolution(d.wrappedTileCoord_[0]),b=function(t,e,n,r){var i=(0,g.qg)(n),o=S(t,e,i,r);return(!isFinite(o)||o<=0)&&(0,g.H6)(n,(function(n){return o=S(t,e,n,r),isFinite(o)&&o>0})),o}(e,r,m,x);if(!isFinite(b)||b<=0)return d.state=o.Z.EMPTY,d;var P=void 0!==h?h:.5;if(d.triangulation_=new O(e,r,m,v,b*P,x),0===d.triangulation_.getTriangles().length)return d.state=o.Z.EMPTY,d;d.sourceZ_=n.getZForResolution(b);var w=d.triangulation_.calculateSourceExtent();if(v&&(e.canWrapX()?(w[1]=(0,E.uZ)(w[1],v[1],v[3]),w[3]=(0,E.uZ)(w[3],v[1],v[3])):w=(0,g.Ed)(w,v)),(0,g.bg)(w)){for(var R=n.getTileRangeForExtentAndZ(w,d.sourceZ_),C=R.minX;C<=R.maxX;C++)for(var j=R.minY;j<=R.maxY;j++){var Z=l(d.sourceZ_,C,j,u);Z&&d.sourceTiles_.push(Z)}0===d.sourceTiles_.length&&(d.state=o.Z.EMPTY)}else d.state=o.Z.EMPTY;return d}return j(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==o.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.Z.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,r,i,o,s,a,u,c,h,p){var f=(0,l.E4)(Math.round(n*t),Math.round(n*e));if((0,w.f0)(f,p),0===u.length)return f.canvas;function d(t){return Math.round(t*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";var _=(0,g.lJ)();u.forEach((function(t,e,n){(0,g.l7)(_,t.extent)}));var y=(0,g.dz)(_),v=(0,g.Cr)(_),m=(0,l.E4)(Math.round(n*y/r),Math.round(n*v/r));(0,w.f0)(m,p);var T=n/r;u.forEach((function(t,e,n){var r=t.extent[0]-_[0],i=-(t.extent[3]-_[3]),o=(0,g.dz)(t.extent),s=(0,g.Cr)(t.extent);t.image.width>0&&t.image.height>0&&m.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,r*T,i*T,o*T,s*T)}));var x=(0,g.rL)(s);return a.getTriangles().forEach((function(t,e,i){var s=t.source,a=t.target,u=s[0][0],c=s[0][1],l=s[1][0],h=s[1][1],g=s[2][0],y=s[2][1],v=d((a[0][0]-x[0])/o),T=d(-(a[0][1]-x[1])/o),O=d((a[1][0]-x[0])/o),w=d(-(a[1][1]-x[1])/o),S=d((a[2][0]-x[0])/o),j=d(-(a[2][1]-x[1])/o),Z=u,M=c;u=0,c=0;var F=[[l-=Z,h-=M,0,0,O-v],[g-=Z,y-=M,0,0,S-v],[0,0,l,h,w-T],[0,0,g,y,j-T]],I=(0,E.SV)(F);if(I){if(f.save(),f.beginPath(),function(){if(void 0===b){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",R(t,4,5,4,0),R(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;b=C(e,0)||C(e,4)||C(e,8)}return b}()||p===P){f.moveTo(O,w);for(var L=v-O,A=T-w,G=0;G<4;G++)f.lineTo(O+d((G+1)*L/4),w+d(G*A/3)),3!=G&&f.lineTo(O+d((G+1)*L/4),w+d((G+1)*A/3));f.lineTo(S,j)}else f.moveTo(O,w),f.lineTo(v,T),f.lineTo(S,j);f.clip(),f.transform(I[0],I[2],I[1],I[3],v,T),f.translate(_[0]-Z,_[3]-M),f.scale(r/n,-r/n),f.drawImage(m.canvas,0,0),f.restore()}})),h&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-x[0])/o,s=-(r[0][1]-x[1])/o,a=(r[1][0]-x[0])/o,u=-(r[1][1]-x[1])/o,c=(r[2][0]-x[0])/o,l=-(r[2][1]-x[1])/o;f.beginPath(),f.moveTo(a,u),f.lineTo(i,s),f.lineTo(c,l),f.closePath(),f.stroke()})),f.restore()),f.canvas}(r,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,u,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=o.Z.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.Z.IDLE){this.state=o.Z.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var s=e.getState();if(s==o.Z.IDLE||s==o.Z.LOADING){t++;var a=(0,_.oL)(e,r.Z.CHANGE,(function(n){var r=e.getState();r!=o.Z.LOADED&&r!=o.Z.ERROR&&r!=o.Z.EMPTY||((0,_.bN)(a),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(a)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,n){t.getState()==o.Z.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(_.bN),this.sourcesListenerKeys_=null},e}(c);var M=n(537);const F=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return(0,M.h)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return(0,M.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){(0,M.h)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function I(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function L(t,e,n){return t+"/"+e+"/"+n}function A(t){return L(t[0],t[1],t[2])}var G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=(e=this.peekFirstKey(),e.split("/").map(Number))[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(A(e.tileCoord)),e.release())}.bind(this))}var e},e}(F);var z=n(520),X=n(689),U=n(418),Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function W(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const k=function(t){function e(e){var n=t.call(this)||this;return n.projection_=(0,x.U2)(e.projection),n.attributions_=W(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:U.Z.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return Y(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,s.O3)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=W(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(X.ZP);var K=n(748),N=n(473),q=n(682);function H(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var V=[0,0,0];const $=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,M.h)((0,q.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,M.h)(this.origins_.length==this.resolutions_.length,20));var i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=(0,g.rL)(i)),(0,M.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,M.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,(0,M.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new N.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(i){var r=this.getTileRangeForExtentAndZ(i,e);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n}),this):i&&this.calculateTileRanges_(i)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var s=r.minY,a=r.maxY;s<=a;++s)n([e,i,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,o,s,a=null,u=t[0]-1;for(2===this.zoomFactor_?(o=t[1],s=t[2]):a=this.getTileCoordExtent(t,r);u>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),s=Math.floor(s/2),i=(0,N.T)(o,o,s,s,n)):i=this.getTileRangeForExtentAndZ(a,u,n),e(u,i))return!0;--u}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return(0,N.T)(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=H(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*o[0]*i,a=r[0]+(e.maxX+1)*o[0]*i,u=r[1]+e.minY*o[1]*i,c=r[1]+(e.maxY+1)*o[1]*i;return(0,g.T9)(s,u,a,c,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=V;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),(0,N.T)(i,r[1],o,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=H(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=H(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,s=n[1]-(t[2]+1)*i[1]*r,a=o+i[0]*r,u=s+i[1]*r;return(0,g.T9)(o,s,a,u,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),u=H(this.getTileSize(o),this.tmpSize_),c=r?.5:0,l=r?.5:0,h=Math.floor((t-a[0])/n+c),p=Math.floor((a[1]-e)/n+l),f=s*h/u[0],d=s*p/u[1];return r?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),I(o,f,d,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),s=this.getResolution(n),a=H(this.getTileSize(n),this.tmpSize_),u=r?.5:0,c=r?.5:0,l=Math.floor((t-o[0])/s+u),h=Math.floor((o[1]-e)/s+c),p=l/a[0],f=h/a[1];return r?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),I(n,p,f,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var n=(0,q.h7)(this.resolutions_,t,e||0);return(0,E.uZ)(n,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();var Q=n(868);function B(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){var i=K.Z.TOP_LEFT,o=J(t,undefined,n);return new $({extent:t,origin:(0,g.g0)(t,i),resolutions:o,tileSize:n})}(tt(t),0,void 0)}(t),t.setDefaultTileGrid(e)),e}function J(t,e,n,r){for(var i=void 0!==e?e:42,o=(0,g.Cr)(t),s=(0,g.dz)(t),a=H(void 0!==n?n:256),u=r>0?r:Math.max(s/a[0],o/a[1]),c=i+1,l=new Array(c),h=0;h<c;++h)l[h]=u/Math.pow(2,h);return l}function tt(t){var e=(t=(0,x.U2)(t)).getExtent();if(!e){var n=180*x.Wm[Q.Z.DEGREES]/t.getMetersPerUnit();e=(0,g.T9)(-n,-n,n,n)}return e}var et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.tileGrid;return r&&H(r.getTileSize(r.getMinZoom()),[256,256]),n.tileCache=new D(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return et(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var s,a,u,c=!0,l=n.minX;l<=n.maxX;++l)for(var h=n.minY;h<=n.maxY;++h)a=L(e,l,h),u=!1,i.containsKey(a)&&(u=(s=i.get(a)).getState()===o.Z.LOADED)&&(u=!1!==r(s)),u||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,r,i){return(0,s.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:B(t)},e.prototype.getTileCacheForProjection=function(t){return(0,M.h)((0,x.OP)(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r,i,o,s=this.getTileGridForProjection(n),a=this.getTilePixelRatio(e),u=H(s.getTileSize(t),this.tmpSize);return 1==a?u:(r=u,i=a,void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=r[0]*i+.5|0,o[1]=r[1]*i+.5|0,o)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=tt(n);if((0,g.b8)(o,i))return e;var s=(0,g.dz)(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,t.getTileCoordForCoordAndZ(i,r)}(r,t,n)),function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,r){},e}(k),rt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return et(e,t),e}(z.ZP);const it=nt;function ot(t,e){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,u){return s?t.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,(function(){var t=s[0],n=e.getFullTileRange(t);return(0,M.h)(n,55),(n.getHeight()-s[2]-1).toString()})):void 0}}var st=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const at=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return st(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=(0,s.sq)(n),i=n.getState();i==o.Z.LOADING?(this.tileLoadingKeys_[r]=!0,e="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=i==o.Z.ERROR?"tileloaderror":i==o.Z.LOADED?"tileloadend":void 0),null!=e&&this.dispatchEvent(new rt(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=ot(t[i],e);return function(t){return 1===t.length?t[0]:function(e,n,r){if(e){var i=function(t){return(t[1]<<t[0])+t[2]}(e),o=(0,E.$W)(i,t.length);return t[o](e,n,r)}}}(r)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var r=L(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(it);var ut=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ct(t,e){t.getImage().src=e}const lt=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ct,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:T,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?P:void 0,n.renderReprojectionEdges_=!1,n}return ut(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==n?e:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!(0,x.OP)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!(0,x.OP)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!(0,x.OP)(e,t)){var n=(0,s.sq)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=B(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||(0,x.OP)(e,t))return this.tileCache;var n=(0,s.sq)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new D(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,s,a){var u=[t,e,n],c=this.getTileCoordForTileUrlFunction(u,s),l=c?this.tileUrlFunction(c,i,s):void 0,h=new this.tileClass(u,void 0!==l?o.Z.IDLE:o.Z.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=a,h.addEventListener(r.Z.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,n,r,i){var o=this.getProjection();if(o&&i&&!(0,x.OP)(o,i)){var s=this.getTileCacheForProjection(i),a=[t,e,n],u=void 0,c=A(a);s.containsKey(c)&&(u=s.get(c));var l=this.getKey();if(u&&u.key==l)return u;var h=this.getTileGridForProjection(o),p=this.getTileGridForProjection(i),f=this.getTileCoordForTileUrlFunction(a,i),d=new Z(o,h,i,p,a,f,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return d.key=l,u?(d.interimTile=u,d.refreshInterimChain(),s.replace(c,d)):s.set(c,d),d}return this.getTileInternal(t,e,n,r,o||i)},e.prototype.getTileInternal=function(t,e,n,r,i){var s=null,a=L(t,e,n),u=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=u){var c=s;s=this.createTile_(t,e,n,r,i,u),c.getState()==o.Z.IDLE?s.interimTile=c.interimTile:s.interimTile=c,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,n,r,i,u),this.tileCache.set(a,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=(0,x.U2)(t);if(n){var r=(0,s.sq)(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(at);var ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pt=function(t){function e(e){var n=e||{},r=void 0!==n.projection?n.projection:"EPSG:3857",i=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||(0,x.U2)("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:J(n,e.maxZoom,e.tileSize,e.maxResolution)};return new $(r)}({extent:tt(r),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return ht(e,t),e}(lt);var ft=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';const gt=function(t){function e(e){var n,r=e||{};n=void 0!==r.attributions?r.attributions:[dt];var i=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",o=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:i,imageSmoothing:r.imageSmoothing,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,opaque:void 0===r.opaque||r.opaque,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:o,wrapX:r.wrapX})||this}return ft(e,t),e}(pt)},418:(t,e,n)=>{n.d(e,{Z:()=>r});const r={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},179:(t,e,n)=>{function r(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,{O3:()=>r,sq:()=>o,q4:()=>s});var i=0;function o(t){return t.ol_uid||(t.ol_uid=String(++i))}var s="6.5.0"},893:function(t,e,n){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MapUtil=void 0;var i=n(556),o=r(n(570)),s=r(n(458)),a=function(){function t(){}return t.mapInit=function(t,e){var n;return t&&(n=new i.Map({target:t,layers:[new o.default({source:new s.default})],view:new i.View({zoom:14,center:[108.94,34.34],projection:"EPSG:4326"})})),n},t}();e.MapUtil=a},676:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MapUtil=void 0;var r=n(893);Object.defineProperty(e,"MapUtil",{enumerable:!0,get:function(){return r.MapUtil}})},607:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sol=void 0;var r=n(676),i={};e.sol=i,i.MapUtil=r.MapUtil},556:e=>{e.exports=t}},n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(607)})()}));